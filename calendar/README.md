# Calendar

## Usage

To update dependencies, run tests and lint:
```bash
make
```

### Other make commands

* `bootstrap` - download golangci-lint, if it is not exists
* `lint` - run golangci linter
* `test` - run all tests
* `vendor` - actualize and update dependencies

## ДЗ 9 "Заготовка" для микросервиса "Календарь"

Цель: В результате выполнения ДЗ должен получиться базовый скелет микросервиса, 
который будет развиваться в дальнейших ДЗ. 

В данном задании тренируются навыки: 
- декомпозиции предметной области; 
- построения элементарной архитектуры проекта.

1. Завести в репозитории отдельную директорию для проекта "Календарь" с отдельным go.mod.
1. Создать интерфейс хранилища событий, состоящий из методов для работы с ним:
    - добавление событий в хранилище
    - удаление событий из хранилища
    - изменение событий в хранилище
    - листинг событий
    - пр. на усмотрение студента
1. Создать объекты ошибок (error sentinels) соответствующие бизнес ошибкам, например 
ErrDateBusy - данное время уже занято другим событием.
1. Создать структуру, реализующую интерфейс выше логикой хранения событий в памяти 
(т.е. просто складывать объекты в мапы/слайсы).
1. Реализовать unit-тесты проверяющие работу хранилища (в частности ошибки).
1. Создать структуру календаря, использующую в себе хранилище. Календарь конструируется в main 
(в последствии он превратится в GRPC/HTTP-листенер).

На данном этапе не нужно (всё это будет позже):
- Делать HTTP, GRPC и пр. интерфейсы к микросервису
- Писать .proto-файлы
- Использовать СУБД

Проект должен следовать:
- https://github.com/golang-standards/project-layout
- https://golang.org/doc/effective_go.html#package-names
- https://rakyll.org/style-packages/

Архитектуры, откуда можно почерпнуть полезное (но необязательно):
- https://medium.com/@benbjohnson/standard-package-layout-7cdbc8391fc1#.epus9ggex
- пакетно-ориентированный дизайн (package-oriented design)
- чистая архитектура (clean architecture)

Важно понять, что в Go нет серебряной пули по архитектуре.
Понятия выше могут дать полезные концепции, но не стоит слепо следовать им.
Критерии оценки: Критерии оценки:
- Проект разбит на пакеты по определенной логике
- Созданы структуры, необходимые для реализации календаря
- Работа с хранилищем происходит через интерфейс
- Присутствуют юнит-тесты
Код должен проходить проверки go vet и golint.
У преподавателя должна быть возможность скачать и проверить пакет с помощью go get / go test. 
